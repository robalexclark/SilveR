<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Reorder the Levels of a Factor</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for reorder.factor {gplots}"><tr><td>reorder.factor {gplots}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Reorder the Levels of a Factor</h2>

<h3>Description</h3>

<p>Reorder the levels of a factor
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'factor'
reorder(x, X, FUN, ..., order=is.ordered(x), new.order, sort=mixedsort)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>factor</p>
</td></tr>
<tr valign="top"><td><code>X</code></td>
<td>
<p>auxillary data vector</p>
</td></tr>
<tr valign="top"><td><code>FUN</code></td>
<td>
<p>function to be applied to subsets of <code>X</code> determined by
<code>x</code>, to determine factor order</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>optional parameters to <code>FUN</code></p>
</td></tr>
<tr valign="top"><td><code>order</code></td>
<td>
<p>logical value indicating whether the returned
object should be an <code><a href="../../base/html/factor.html">ordered</a></code> factor</p>
</td></tr>
<tr valign="top"><td><code>new.order</code></td>
<td>
<p>a vector of indexes or a vector of label names giving
the order of the new factor levels</p>
</td></tr>
<tr valign="top"><td><code>sort</code></td>
<td>
<p>function to use to sort the factor level names, used only
when <code>new.order</code> is missing</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function changes the order of the levels of a factor. It can do
so via three different mechanisms, depending on whether, <code>X</code>
<em>and</em> <code>FUN</code>, <code>new.order</code> or <code>sort</code> are provided.
</p>
<p>If <code>X</code> <em>and</em> <code>Fun</code> are provided: The data in <code>X</code>
is grouped by the levels of <code>x</code> and <code>FUN</code> is applied.
The groups are then sorted by this value, and the resulting order is
used for the new factor level names.
</p>
<p>If <code>new.order</code> is a numeric vector, the new factor level names
are constructed by reordering the factor levels according to the
numeric values. If <code>new.order</code> is a chraccter vector,
<code>new.order</code> gives the list of new factor level names. In either
case levels omitted from <code>new.order</code> will become missing
(<code>NA</code>) values.
</p>
<p>If <code>sort</code> is provided (as it is by default): The new factor level
names are generated by calling the function specified by <code>sort</code>
to the existing factor level <em>names</em>. With <code>sort=mixedsort</code>
(the default) the factor levels are sorted so that combined numeric
and character strings are sorted in according to character rules on
the character sections (including ignoring case), and the numeric
rules for the numeric sections. See <code><a href="../../gtools/help/mixedsort.html">mixedsort</a></code>
for details.
</p>


<h3>Value</h3>

<p> A new factor with reordered levels </p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="../../base/html/factor.html">factor</a></code>
and
<code><a href="../../stats/help/reorder.html">reorder</a></code>
</p>


<h3>Examples</h3>

<pre>



   # Create a 4 level example factor
   trt &lt;- factor( sample( c("PLACEBO", "300 MG", "600 MG", "1200 MG"),
                  100, replace=TRUE ) )
   summary(trt)
   # Note that the levels are not in a meaningful order.

   # Change the order to something useful..
   # - default "mixedsort" ordering
   trt2 &lt;- reorder(trt)
   summary(trt2)
   # - using indexes:
   trt3 &lt;- reorder(trt, new.order=c(4, 2, 3, 1))
   summary(trt3)
   # - using label names:
   trt4 &lt;- reorder(trt, new.order=c("PLACEBO", "300 MG", "600 MG", "1200 MG"))
   summary(trt4)
   # - using frequency
   trt5 &lt;- reorder(trt, X=rnorm(100), FUN=mean)
   summary(trt5)

   # Drop out the '300 MG' level
   trt6 &lt;- reorder(trt, new.order=c("PLACEBO", "600 MG", "1200 MG"))
   summary(trt6)
</pre>

<hr /><div style="text-align: center;">[Package <em>gplots</em> version 3.1.3 <a href="00Index.html">Index</a>]</div>
</div></body></html>
