<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Compute weighted mean with stat_weighted_mean()</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Compute weighted mean with
<code>stat_weighted_mean()</code></h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(ggstats)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<p><code>stat_weighted_mean()</code> computes mean value of
<strong>y</strong> (taking into account any <strong>weight</strong>
aesthetic if provided) for each value of <strong>x</strong>. More
precisely, it will return a new data frame with one line per unique
value of <strong>x</strong> with the following new variables:</p>
<ul>
<li><strong>y</strong>: mean value of the original <strong>y</strong>
(i.e. <strong>numerator</strong>/<strong>denominator</strong>)</li>
<li><strong>numerator</strong></li>
<li><strong>denominator</strong></li>
</ul>
<p>Let’s take an example. The following plot shows all tips received
according to the day of the week.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">data</span>(tips, <span class="at">package =</span> <span class="st">&quot;reshape&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">ggplot</span>(tips) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> tip) <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p>To plot their mean value per day, simply use
<code>stat_weighted_mean()</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">ggplot</span>(tips) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> tip) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="fu">stat_weighted_mean</span>()</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAAwFBMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kNtNTU1NTW5NTY5Nbo5NbqtNjshmAABmkJBmtv9uTU1uTW5uTY5ubo5ubqtuq6tuq8huq+SOTU2OTW6OTY6Obk2Ojk2OyP+QOgCQkGaQ27aQ2/+rbk2rbm6rjk2ryKur5P+2ZgC2/9u2///Ijk3I5KvI///bkDrb///kq27k5Kvk///r6+v/tmb/yI7/25D/29v/5Kv//7b//8j//9v//+T///8oA1fJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAGyUlEQVR4nO2dDVcTRxhGI6W0rFRTo7WVYmMrbbVQU6pAE2T//7/qzIZNNuTjblazuzH3OQcJnPuS4TIzm+N5J9tJzcp0mh5A26MgiIIgCoIoCKIgyPqCPlCY2IYyBRGgIAAUBICCAFAQAAoCQEEAKAiAL0RQp9PZzLN9IYI6nYqGFPSpz6YgAioLaleCnw0/wdoVn/7H2YoyBRGgIAAUBICCAFAQAAoCQEEAKAgABQGgIAAUBICCAFAQAAoCQEEAsKCrJDl6lz0a9pKkr6B7GT57l148jo9ufn6TDp++UdBiSWEqRU3n+RRqbMj1lpUTNJ5B+SxK069DVhZ8eVklaNh7mK+r29MX+Xcb+5vWW1ZGUD5vwufjiR8FzWS88wx7/em3GhtyvWUs6OrR+7sZNONHQZNcJEnYg8KFLDxIpi+EGhtyvWUll9iCNDbkessURICCAFAQAAoCQEEAKAgABQGgIAAUBICCAFAQAAoCQEEAKAiAyoJ2LM6gZYCCAFAQAAoCQEEAKAgABQGgIAAUBICCAFAQAAoCQEEAKAgABQGgIAAUBAALmnba5w3TCipm2mkfXR0paJmkkPOHfzqDFmbSaX9nyk77mRQ67d2DFifvtFfQsuRnfBQ0n2mnvYIWZ9Jpr6C10tiQ6y1TEAEKAkBBACgIAAUBoCAAFASAggBQEAAKAkBBACgIAAUBUFnQjsUZtAxQEAAKAkBBACgIAAUBoCAAFASAggBQEAAKAkBBACgIAAUBoCAAFATAQkGDeMvAJwr6sETQYO8sTUfdw/FX00bym+Pk0XsFBTXZ5LmMmoqN5Len/cJbbzc25HrLWFAuKUygk3eFHrzGhlxv2cIldvngdWGJpXkj+fD5e9+yPWbU7eTJJlHeSD7T77qpGbSxmzZXLFskaD53b7j9fPOCNnfL3Ypl5QSNG8nr2IPaLyjs0PkSG2/S04UVb4mw6atY+wXNZ9pIXsfroG3Yg+Yv84vS2JDrLVMQAXOCBpNr/P4qP7sraDKDII0Nud6yRYLKpbEh11umIAIUBICCAFAQAAoCQEEAKAgABQGgIAAqC9qxOIOWAQoCQEEAKAgABQGgIAAUBICCAFAQAAoCQEEAKAgABQGgIAAUBICCAFAQACxo2EuSfv7IN9yeS2y/Gz6NLXg3x/30YtJi1tiQ6y1jQVexKzFr4qyjy7V1ZSWWWDrfBrzjjeRzie2t6d0Se+gMmsvN8Yvxg7BJ//S7gu5n2OsXZJ14mGWpn7j/eBxqLhdJTD82kl8lHqgrn8aGXG+ZgghQEAAKAkBBACgIAAUBoCAAFASAggBQEAAKAkBBACgIAAUBUFnQjsUZtAxQEAAKAkBBACgIAAUBoCAAFASAggBQEAAKAkBBACgIAAUBoCAAFAQAC7KRfLWgQiN5bMGzkfx+7jWS28S5bBYVZ5CN5LO5ayT3rghLkjeSx53o6sgldj+TRula3tO+bWUsaNpI7gxamNlG8slZFgVRGhtyvWUKIkBBACgIgN0WxDep2G1BJW5zoiAFrYiCKO5Bn1ymIAIUBICCAFAQAAoCoLKgHYszaBmgIAAUBMDGBLXtdpcVyzYmqHU3TK1YpiACFATApgS5BzU25HrLFESAggBQEAAKAkBBACgIAAUBUFkQpmIfbEvLFARREERBEP/THqIgiIIgCoIoCPI5BcUjikmSHYCJ/fklc3OcFM4zliycLSqV29Ps6MCjf8sPLeazClrvqceJN+0onGcs9zPuFZVN9sPXHOUGBA1/eHn0d+lRZEXZ8c94RDbMjDITIy+Kn8PH8Pkf+fFaLhs++yXCeWkY7Mon3ISgXn+NP9Pt6XgiZI7CgEsV5kX5b9l7kZ3ZKjXAO3hSCmI/+x70OB916bLpWaKbk5KC8qL8tyz5jJMlNq3Bsk3MoDUFpeMTael53HfXKAxFuyAoO1ydnvfjvlt6ieVFuyAouyDl++14TpQvys5jH1USVChdmcYFZS9p4h50kSTfvezfnpZ6eVMo+vGkkqBC6cr4ShqiIIiCIAqCKAiiIEjLBV3unTU8AgVBFARpsaBRt/Pg1yDo+qDT6Rymb/fD9wb7dY+ivYJG3cPwsXc26j4JYvbO4mT6+OpJ3cNor6BsdQUx//0Tvrj+5nUUdf1t7SuuvYIGXwUzmZHLsMQevI7Lq/4VtgWCRt0gJ8yg8Piv+ldYiwVlSyz8cxlFXQZJH199X/8Ka7GgUXc/26Sjm+uD8E866NS/wlosaHKZfxt2oN/ipez6oP4V1mZBc2ngGrZdggaHDTzp9gi6Poi7de3ZHkENRUEQBUEUBFEQREEQBUH+B11ZXyWs6z3bAAAAAElFTkSuQmCC" /><!-- --></p>
<p>We can specify the geometry we want using <code>geom</code> argument.
Note that for lines, we need to specify the <strong>group</strong>
aesthetic as well.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">ggplot</span>(tips) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> tip, <span class="at">group =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="fu">stat_weighted_mean</span>(<span class="at">geom =</span> <span class="st">&quot;line&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p>An alternative is to specify the statistic in
<code>ggplot2::geom_line()</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">ggplot</span>(tips) <span class="sc">+</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> tip, <span class="at">group =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">&quot;weighted_mean&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p>Of course, it could be use with other geometries. Here a bar
plot.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tips) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> tip, <span class="at">fill =</span> sex) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="fu">stat_weighted_mean</span>(<span class="at">geom =</span> <span class="st">&quot;bar&quot;</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;mean tip&quot;</span>)</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>p</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p>It is very easy to add facets. In that case, computation will be done
separately for each facet.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(smoker))</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p><code>stat_weighted_mean()</code> could be also used for computing
proportions as a proportion is technically a mean of binary values (0 or
1).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">ggplot</span>(tips) <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> <span class="fu">as.integer</span>(smoker <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>), <span class="at">fill =</span> sex) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="fu">stat_weighted_mean</span>(<span class="at">geom =</span> <span class="st">&quot;bar&quot;</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;proportion of smoker&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p>Finally, you can use the <strong>weight</strong> aesthetic to
indicate weights to take into account for computing means /
proportions.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(Titanic)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fu">ggplot</span>(d) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> Class, <span class="at">y =</span> <span class="fu">as.integer</span>(Survived <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>), <span class="at">weight =</span> Freq, <span class="at">fill =</span> Sex) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;weighted_mean&quot;</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Proportion who survived&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAABCFBMVEUAAAAAADoAAGYAOmYAOpAAZrYAv8QzMzM6AAA6ADo6AGY6ZpA6ZrY6kNtNTU1NTW5NTY5Nbo5NbqtNjshmAABmADpmAGZmOgBmOjpmZjpmZmZmZrZmtv9uTU1uTW5uTY5ubo5ubqtujshuq+SOTU2OTW6OTY6Obk2Oq6uOyP+QOgCQOjqQOmaQZpCQkGaQtpCQ27aQ2/+rbk2rbm6rbo6rjk2rq46ryKur5P+2ZgC2Zjq2tma225C2/7a2/9u2///Ijk3Ijm7I5KvI/8jI///bkDrbkGbb/7bb///kq27k/8jk///r6+v4dm3/tmb/yI7/25D/29v/5Kv//7b//8j//9v//+T///+PjhJVAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAKM0lEQVR4nO2dC3fbthmGldTpbG+2s9rdVVmWyXNn9zalWxtt3aIu1motrazKF/7/fzJ8AEiRFMiXpCiKIt7nnJYKIdHScz5cCBBALyC59Lb9BdoOBQEoCEBBAAoCUBBgbUE/pFg5USytTFIdv7swuYIWL6+D4P78+KP30WEs/398fRm9x2dBt8fPr7WM6Wl4WLx6Px4Et6fLN3ksaHzyjYqg+4triSR7UGqmg8ev3izf5bEgk8VUzAT3f36zPIwH0zCAfqZo4DtuFSjo9iNtxh6kDPrfxbvz40H4HkZQIoLk7HQwHdiXAQWlyiB1Ur0aXy6LIe8FPb4emFpMHwIJoIARZHG0g0yWYxlUHAoCpL/9h3EoiIIgFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAWVJCEoJ63uv7spGo2gasG1csU6fndhKAhAQQAKAlAQgIIAFASIBN2d9UKevi1xAW8ECRNRc3fWL3MBnwRZNTNGUAwKAriy2FGZC3glKJhJGV2qCPJMUAUoCOCXoInKYJO9mzIX8ErQaO/7s/7D1bMyF/BJkKrmpaZnNR+HggDJdpBkMbaDEjjaQaX8eCaoAhQE8ElQydLH4JMgaSeu3IlNj4VLfXx+jefNd1qQYtTrPRmm3yQzesfaCZ4333VBilG6HSTzL+0kVTxvvuuCRo4uaZmren+uMxqeN5/4OTlpxb9i3hU3T/JezJW/zGzwxR9MFMF5812OoIzu+ls9mVcw5VD+vPkuC8pgHEWLFgTmzXdWkL5TdY2LGRcSRo9/k4UFwLz5zgrKJFyQ4vj4RF6gefP+CQL4JIi3Gg7grQbCK0FBVlMoB98EBY5bjVx8E+S61cjFK0Gl81fgl6CSTwYZfBL0cEVBKzCCAKlxsVLD8hqfBLlvVgE+CaoEBQF8EsQs5mA1gu4+5r1YDEcWm5Wqy3wUxCwWw3U3zwiK4Sik2R8Uh9U8YAemheddMcGkdPgXICHIjI3taoeZnmkyK92pDkh2mD2TvzLZzeekbWdNuSoGk+rukKfId7Saf7g6Wr7UtwMTld8qDWXFWXlO+mhXBckjukaGnisgXTcqR4xKZQcHyR7Fo5mSXu6a7RFkSulntqUrvX/zgy8PSxWoDhJl0HxfXb9kJm6ToEC87N1MzD33kRhbu8juXDtofjBcdoyOeuvmsA4JUmbsYRY2hmZP/1Wlmz1BdwQFI/EiBfTDlQohZan8zBwHHRKky2hdkUk1L7WN8lRy9tsqXRK0ESgIsDJnldOhknBhAQCXpgBQEIBZDMBCGtCdaj7j0+v+vu4I+tFJvYLm+zs8Nt+AoEr3LT4J2u1H8BqJIApaIVEGOZuIdj540e3UOysoc6FJMw+z8HbqnRWUhZ18WXg79S4LUkG0Wggt54MX20498XNy0op/xbwrxsgXNN+XGno5T2dedDwoEUHSVZnOYXY+eOHt1FsaQfODn98Ed785XE+QtbRaVI8vC2+n3lZBh78dBvPfKS3SGu5rQYUe1EgLmjlvVseXhbdTb62gf/aD/355+FaeUVV2RNDoKMAPaqSz2IpSOx+88HbqrRX07S8ePvvWZKy7X4kgUaVelRDkbknb+eBFt1NvraB/f/7973XJo+cMiqCzIg9cJbPYqFf66ZqdEfT2H18caS19m8Vw9KwK0jf0O7rYLRQ0ezK0hc/8YGjLIPxMeHcm9UJB1s6k1/vg131bi+FHGl39Qdvoky6YtPWWdPnn1XwSVAkKAlAQoDWC0l/Esu7voyBAdwR96KQzwz47IWibwz47IWibwz47IWibwz47IajSM7M+CdrmvPmdEFQJCgLsiCDTgsm+F88c5WjLE2YbFwSGeYoJ2uIzik0JMkM9D59+oQLBjOCAYaC2POXalCAz1CNNYhlrneNhoLUF5X7PnLRqSTlDz0DQvp6NaId6Hj4dBvKfXcglbxjIsyxmh3oSgvKHgTwrpG2ExAShYSBvqvllGTTbu4kJQsNAvgkyQz3xLAaGgfCS7d0QVBlfIqgytbSD4sMIFJTCH0GT6CnX0ktTtELQD27WshPU1OXaCkEbopYuV18EMYIc1LJcsi+CKjcUfRFUCQoC+CWoYneHN4Kqdpj5Imi3bzU2BAUBmMUALKQBrOYBFARwZLHUHevihcxZzd0t3BtBrkJaps7JvNW83cJ9EeSs5rWMaA6me1q414IEFUW5u4VnCkpdZ/2kLe8WrhdBXW0HyXzV3N3C/Ykg5+oU9+ehjazdwn0R5GbxIqqysnYL91qQ9ZO7W7g/ghy3GtL+keI5b7dwbwS152Y194r1GgC0tLuDgnZSELOYg5b2B7VVUAV8EtSihxfaKahFDy+0U1CLHl5op6AWPbzQTkGVoCDAGoKyPtZWQaOSmcvgjyDZCWdS3pA3gnQjqEJLyBtBuhEU20ixKBQEoCAABQGAoB8rWGiroIwVyQHeCKoKBQEoqACZPye1eF8yKfNj+VdsGEYQgIIAFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQYDCgvJ2C6cgsFs4BYHdwikoKL5beNcoKqjwbuE5+4HmpZVJ2pAKNyUjSF7m7xbuq6DCu4X7KqjwbuG+Ciq8W7i3grKgIAAFASgIQEEACipJ3r1HTlq1pAagIAAFASgIULugrkFBAAoCUBCAggA1CjL9aemX0XLCS+KjRrd6jeF0ijprOle2T32CbmO/NC4oXE54SUyQvHF6mk6ZypXG7TBUm6DxyTdiRUfE/XlMll1OePHq7zqQVNovP0kElJK0+OMn+lMmxXRXKlnh6efXYk4s3zZureYsJl3XMr4Yz2KB/smLFwP982TcMZnj5P2y3GeUElkIT09PdUevLHc5CBqmbkGmrzolSC8n/FL3+ovBeBmkJJy8idyalGjgNryiSlq8ev/d16eJIctmqLuQViWy/cFL9HLCVpBOGSciSMLrpR0z0SnS7R1dUS9kffLm/uLdxX9evrtIRmYDbKAWUzkkVYtdBkFmBAW6gEpE0LIMsqf1m/7yp8evvj4NmqZmQVJ8pATZ5YTDIEmWQXbA1kRPlBLWYtFpueqxKYWapu4IGut2zePrZS1mlxMOBT2+TtRiZpFh/dFYim0H6dMqj8kyxLoOe954DmNLGkFBAAoCUBCAggAUBGhOkKxVLRubzA+Gjf3NGmhK0MOVLKQ76fUpyM3ILDQ82buhIBexpapF0HzfLA2vj/3lsYU0JCgWNuql1jV5+lafne/3w2Mz36UcTQk6jFbWUzZ+ujHH8GwstXVsJYKCYGaqtFGv90zOhccW0nAZdPfxUGcxJcc4uzszyzaGx9bRVC1ml8s3Bc9M/qF3ewti7qpsObB5ttIOEjfz/SdDvUmO/NseG/oupWiuJT2KtaTV6yd/VRFji6Lo2EJ4LwagIAAFASgIQEEACgJQEICCABQEoCDA/wEHmeJ4D2OI5wAAAABJRU5ErkJggg==" /><!-- --></p>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
