<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Plot model performance</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for plot.tune {mixOmics}"><tr><td>plot.tune {mixOmics}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Plot model performance</h2>

<h3>Description</h3>

<p>Function to plot performance criteria, such as classification error rate or
correlation of cross-validated components for different models.
</p>
<p>Function to plot performance criteria, such as classification error rate or
balanced error rate on a tune.splsda result.
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'tune.spls'
plot(
  x,
  measure = NULL,
  comp = c(1, 2),
  pch = 16,
  cex = 1.2,
  title = NULL,
  size.range = c(3, 10),
  sd = NULL,
  ...
)

## S3 method for class 'tune.splsda'
plot(x, optimal = TRUE, sd = TRUE, col, ...)

## S3 method for class 'tune.block.splsda'
plot(x, sd = TRUE, col, ...)

## S3 method for class 'tune.spca'
plot(x, optimal = TRUE, sd = NULL, col = NULL, ...)

## S3 method for class 'tune.spls1'
plot(x, optimal = TRUE, sd = TRUE, col, ...)

## S3 method for class 'tune.splsda'
plot(x, optimal = TRUE, sd = TRUE, col, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>an <code>tune.splsda</code> object.</p>
</td></tr>
<tr valign="top"><td><code>measure</code></td>
<td>
<p>Character. Measure used for plotting a <code>tune.spls</code> object.
One of c('cor', 'RSS').</p>
</td></tr>
<tr valign="top"><td><code>comp</code></td>
<td>
<p>Integer of length 2 denoting the components to plot.</p>
</td></tr>
<tr valign="top"><td><code>pch</code></td>
<td>
<p>plot character. A character string or a vector of single
characters or integers. See <code><a href="../../graphics/html/points.html">points</a></code> for all alternatives.</p>
</td></tr>
<tr valign="top"><td><code>cex</code></td>
<td>
<p>numeric character (or symbol) expansion, possibly vector.</p>
</td></tr>
<tr valign="top"><td><code>title</code></td>
<td>
<p>Plot title.</p>
</td></tr>
<tr valign="top"><td><code>size.range</code></td>
<td>
<p>Numeric vector of length 2. Range of sizes used in plot.</p>
</td></tr>
<tr valign="top"><td><code>sd</code></td>
<td>
<p>If 'nrepeat' was used in the call to 'tune.splsda', error bar
shows the standard deviation if sd=TRUE</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr valign="top"><td><code>optimal</code></td>
<td>
<p>If TRUE, highlights the optimal keepX per component</p>
</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
<p>character (or symbol) color to be used, possibly vector. One
colour per component.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>plot.tune.splsda</code> plots the classification error rate or the balanced
error rate from x$error.rate, for each component of the model. A lozenge
highlights the optimal number of variables on each component.
</p>
<p><code>plot.tune.block.splsda</code> plots the classification error rate or the
balanced error rate from x$error.rate, for each component of the model. The
error rate is ordered by increasing value, the yaxis shows the optimal
combination of keepX at the top (e.g. &lsquo;keepX on block 1&rsquo;_'keepX on block
2'_&lsquo;keepX on block 3&rsquo;)
</p>
<p><code>plot.tune.spls</code> plots either the correlation of cross-validated
components or the Residual Sum of Square (RSS) values for these components
against those from the full model for both <code>t</code> (X components) and
<code>u</code> (Y components). The optimal number of features chosen are indicated
by squares.
</p>
<p>If neither of the <code>object$test.keepX</code> or <code>object$test.keepY</code> are
fixed, a dot plot is produced where a larger size indicates the strength of
the measure (higher correlation or lower RSS). Otherwise, the measures are
plotted against the number of features selected. In both cases, the colour
shows the dispersion of the values across repeated cross validations.
</p>
<p><code>plot.tune.spca</code> plots the correlation of cross-validated components from
the <code>tune.spca</code> function with respect to the full model.
</p>
<p><code>plot.tune.splsda</code> plots the classification error rate or the balanced
error rate from x$error.rate, for each component of the model. A lozenge
highlights the optimal number of variables on each component.
</p>
<p><code>plot.tune.block.splsda</code> plots the classification error rate or the
balanced error rate from x$error.rate, for each component of the model. The
error rate is ordered by increasing value, the yaxis shows the optimal
combination of keepX at the top (e.g. &lsquo;keepX on block 1&rsquo;_'keepX on block
2'_&lsquo;keepX on block 3&rsquo;)
</p>


<h3>Value</h3>

<p>none
</p>
<p>none
</p>


<h3>plot arguments for pls2 tuning</h3>

<p>For tune.spls objects where tuning is performed on both X and Y, arguments
'col.low.sd' and 'col.high.sd' can be used to indicate a low and high sd, 
respectively. Default to 'blue' &amp; 'red'.
</p>


<h3>Author(s)</h3>

<p>Kim-Anh Lê Cao, Florian Rohart, Francois Bartolo, Al J Abadi
</p>
<p>Kim-Anh Lê Cao, Florian Rohart, Francois Bartolo, AL J Abadi
</p>


<h3>See Also</h3>

<p><code><a href="../../mixOmics/help/tune.mint.splsda.html">tune.mint.splsda</a></code>, <code><a href="../../mixOmics/help/tune.splsda.html">tune.splsda</a></code>,
<code><a href="../../mixOmics/help/tune.block.splsda.html">tune.block.splsda</a></code>, <code><a href="../../mixOmics/help/tune.spca.html">tune.spca</a></code> and
http://www.mixOmics.org for more details.
</p>
<p><code><a href="../../mixOmics/help/tune.mint.splsda.html">tune.mint.splsda</a></code>, <code><a href="../../mixOmics/help/tune.splsda.html">tune.splsda</a></code>
<code><a href="../../mixOmics/help/tune.block.splsda.html">tune.block.splsda</a></code> and http://www.mixOmics.org for more
details.
</p>


<h3>Examples</h3>

<pre>

## Not run: 
## validation for objects of class 'splsda'

data(breast.tumors)
X = breast.tumors$gene.exp
Y = as.factor(breast.tumors$sample$treatment)
out = tune.splsda(X, Y, ncomp = 3, nrepeat = 5, logratio = "none",
test.keepX = c(5, 10, 15), folds = 10, dist = "max.dist",
progressBar = TRUE)


plot(out, sd=TRUE)

## End(Not run)
## Not run: 
## validation for objects of class 'mint.splsda'

data(stemcells)
data = stemcells$gene
type.id = stemcells$celltype
exp = stemcells$study

out = tune(method="mint.splsda", X=data,Y=type.id, ncomp=2, study=exp, test.keepX=seq(1,10,1))
out$choice.keepX

plot(out)

## validation for objects of class 'mint.splsda'

data("breast.TCGA")
# this is the X data as a list of mRNA and miRNA; the Y data set is a single data set of proteins
data = with(breast.TCGA$data.train, list(mrna = mrna, 
            mirna = mirna,
            protein = protein,
            Y = subtype))
# set number of component per data set
ncomp = 5

# Tuning the first two components
# -------------

# definition of the keepX value to be tested for each block mRNA miRNA and protein
# names of test.keepX must match the names of 'data'
test.keepX = list(mrna = seq(10,40,20), mirna = seq(10,30,10), protein = seq(1,10,5))

# the following may take some time to run, note that for through tuning
# nrepeat should be &gt; 1
tune = tune.block.splsda(X = data, indY = 4,
ncomp = ncomp, test.keepX = test.keepX, design = 'full', nrepeat = 3)

tune$choice.ncomp
tune$choice.keepX

plot(tune)
## --- spls model
data(nutrimouse)
X &lt;- nutrimouse$gene  
Y &lt;- nutrimouse$lipid
list.keepX &lt;- c(2:10, 15, 20)
# tuning based on correlations
set.seed(30)
## tune X only
tune.spls.cor.X &lt;- tune.spls(X, Y, ncomp = 3,
                           test.keepX = list.keepX,
                           validation = "Mfold", folds = 5,
                           nrepeat = 3, progressBar = FALSE,
                           measure = 'cor')

plot(tune.spls.cor.X)
plot(tune.spls.cor.X, measure = 'RSS')

## tune Y only
tune.spls.cor.Y &lt;- tune.spls(X, Y, ncomp = 3,
                           test.keepY = list.keepX,
                           validation = "Mfold", folds = 5,
                           nrepeat = 3, progressBar = FALSE,
                           measure = 'cor')

plot(tune.spls.cor.Y)
plot(tune.spls.cor.Y, sd = FALSE)
plot(tune.spls.cor.Y, measure = 'RSS')

## tune Y and X
tune.spls.cor.XY &lt;- tune.spls(X, Y, ncomp = 3,
                             test.keepY = c(8, 15, 20),
                             test.keepX = c(8, 15, 20),
                             validation = "Mfold", folds = 5,
                             nrepeat = 3, progressBar = FALSE,
                             measure = 'cor')

plot(tune.spls.cor.XY)
## show RSS
plot(tune.spls.cor.XY, measure = 'RSS')
## customise point sizes
plot(tune.spls.cor.XY, size.range = c(6,12))

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>mixOmics</em> version 6.18.1 <a href="00Index.html">Index</a>]</div>
</div></body></html>
