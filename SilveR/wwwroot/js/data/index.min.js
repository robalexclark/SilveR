$(function(){function n(n){const t=this.dataItem($(n.currentTarget).closest("tr"));window.location.href=window.location.protocol+"/Data/ViewDataTable?datasetId="+t.datasetID;!0}$("#grid").kendoGrid({sortable:!0,columns:[{selectable:!0,width:"40px"},{title:"Name",field:"datasetName"},{title:"Version",field:"versionNo"},{title:"Date Uploaded",field:"dateUpdated",format:"{0:dd MMM yy HH:mm}"},{command:{text:"View Data",click:n},title:" "},{command:[{text:"Delete",name:"destroy"}]}],scrollable:!0,editable:{confirmation:"Are you sure you want to delete this dataset?",confirmDelete:"Delete",cancelDelete:"Cancel",mode:"inline",destroy:!0},dataSource:{type:"GET",transport:{read:{url:"/Data/GetDatasets"},destroy:{url:"/Data/Destroy",type:"DELETE"}},schema:{model:{id:"datasetID",fields:{datasetName:{type:"string"},versionNo:{type:"number"},dateUpdated:{type:"date"}}}}}});$("#deleteSelected").click(function(){const t=confirm("Are you sure you want to delete these datasets?");if(t){const t=$("#grid").data("kendoGrid");var i=$("input:checked",t.tbody).closest("tr"),n=[];$.each(i,function(i,r){var u=t.dataItem(r);n.push(u.datasetID)});$.ajax({type:"POST",url:"/Data/DeleteSelected",data:{datasetIDs:n},success:function(){t.dataSource.read()}})}})});