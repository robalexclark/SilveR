$(function(){function n(n){const t=this.dataItem($(n.currentTarget).closest("tr"));window.location.href="/analyses/viewresults?analysisGuid="+t.analysisGuid}function t(n){const t=this.dataItem($(n.currentTarget).closest("tr"));window.location.href="/analyses/reanalyse?analysisGuid="+t.analysisGuid}$("#grid").kendoGrid({sortable:!0,columns:[{selectable:!0,width:"40px"},{title:"Analysis Type",field:"scriptDisplayName"},{title:"Dataset Name",field:"datasetName"},{title:"Date Analysed",field:"dateAnalysed",format:"{0:dd MMM yy HH:mm}"},{command:{text:"View Results",click:n},title:" "},{command:{text:"Re-Analyse",click:t},title:" "},{command:[{text:"Delete",name:"destroy"}]}],scrollable:!0,editable:{confirmation:"Are you sure you want to delete this analysis?",confirmDelete:"Delete",cancelDelete:"Cancel",mode:"inline",destroy:!0},dataSource:{type:"GET",transport:{read:{url:"/Analyses/GetAnalyses"},destroy:{url:"/Analyses/Destroy",type:"DELETE"}},schema:{model:{id:"analysisID",fields:{analysisGuid:{type:"string"},datasetID:{type:"number"},datasetName:{type:"string"},aspNetUserID:{type:"string"},scriptID:{type:"number"},scriptDisplayName:{type:"string"},rProcessOutput:{type:"string"},htmlOutput:{type:"string"},dateAnalysed:{type:"date"}}}}}});$("#deleteSelected").click(function(){const t=confirm("Are you sure you want to delete these analyses?");if(t){const t=$("#grid").data("kendoGrid");var i=$("input:checked",t.tbody).closest("tr"),n=[];$.each(i,function(i,r){var u=t.dataItem(r);n.push(u.analysisID)});$.ajax({type:"POST",url:"/Analyses/DeleteSelected",data:{analysisIDs:n},success:function(){t.dataSource.read()}})}})});